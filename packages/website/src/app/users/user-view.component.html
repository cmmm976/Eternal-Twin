<etwin-main-layout>
  <ng-container *ngIf="user$ | async as user">
    <ng-container [ngSwitch]="user !== USER_NOT_FOUND ? user.type : USER_NOT_FOUND">

      <ng-container *ngSwitchCase="ObjectType.User">
        <section class="user-view">
          <article class="profile">
            <div class="avatar"><img src="/assets/avatar.jpg"></div>
            <div class="name-banner">
              <h1>{{user.displayName.current.value}}</h1>
              <p class="title"><img src="/assets/title_icon_placeholder.png"> We're working on it, we swear !</p>
            </div>
            <div class="additional">
              <a class="btn primary disabled">Add to contacts</a>
              <a class="btn icon secondary disabled"><img alt="private message" src="//data.twinoid.com/img/icons/mail.png"></a>
              <p class="alt-infos"><em>?? years old</em> | <em>City</em> | <em>Country</em></p>
            </div>
            <div class="clear"></div>
            <p class="bubble">This is a user profile. This page is only a placeholder at the moment, but it will be improved once authentication is more reliable. This page will contain {{user.displayName.current.value}}'s messages and achievements.</p>
            <!-- <div class="medals">
              <div class="placeholder"><a href="#">add a medal</a></div>
              <div class="placeholder"><a href="#">add a medal</a></div>
              <div class="placeholder"><a href="#">add a medal</a></div>
            </div> -->
          </article>

          <p class="description"></p>

          <div class="linked-users">
            <ng-container *ngIf="user.links.twinoid.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.twinoid.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.hammerfestEs.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.hammerfestEs.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.hammerfestFr.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.hammerfestFr.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.hfestNet.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.hfestNet.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.dinoparcCom.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.dinoparcCom.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.enDinoparcCom.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.enDinoparcCom.current"></etwin-linked-user>
            </ng-container>
            <ng-container *ngIf="user.links.spDinoparcCom.current !== null">
              <etwin-linked-user [userId]="user.id" [link]="user.links.spDinoparcCom.current"></etwin-linked-user>
            </ng-container>
          </div>
        </section>
      </ng-container>

      <ng-container *ngSwitchDefault>
        <h1>User not found</h1>
      </ng-container>
    </ng-container>
  </ng-container>
</etwin-main-layout>
