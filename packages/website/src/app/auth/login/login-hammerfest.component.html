<form
  method="POST"
  enctype="application/x-www-form-urlencoded"
  action="/actions/login-with-hammerfest"
  [formGroup]="loginForm"
  (ngSubmit)="onSubmit($event)"
>
  <h3 class="active_method">
    <img src="/assets/login-methods/hammerfest.png"/>
    <ng-container i18n="Hammerfest login header@@login.method.hammerfest">Sign in with Hammerfest</ng-container>
  </h3>
  <label>
    <span i18n="Hammerfest server label@@login.hammerfestServer">Server</span>
    <select class="small" name="server" class="field" formControlName="server">
      <option value="hammerfest.fr">hammerfest.fr</option>
      <option value="hfest.net">hfest.net</option>
      <option value="hammerfest.es">hammerfest.es</option>
    </select>
  </label>
  <label>
    <span i18n="Hammerfest username address field label@@login.hammerfestUsername">Hammerfest username</span>
    <input type="text" name="username" class="field" formControlName="username" required="required"/>
    <div *ngIf="username.invalid && (username.dirty || username.touched)" class="info error">
      <p *ngIf="username.errors?.required" i18n="Username required error@@login.usernameRequired">
        The username is required.
      </p>
    </div>
  </label>
  <label>
    <span i18n="Password field label@@login.hammerfest.password">Hammerfest password</span>
    <input type="password" name="password" class="field" formControlName="password" required="required"/>
    <div *ngIf="password.invalid && (password.dirty || password.touched)" class="info error">
      <p *ngIf="password.errors?.required" i18n="Password required error@@login.passwordRequired">
        The password is required.
      </p>
    </div>
  </label>
  <input type="submit" name="sign_in" class="btn primary" i18n-value="Submit the login form label@@login.submit"
         value="Sign in" [disabled]="loginForm.invalid || pendingSubscription !== null"/>
  <div *ngIf="serverError" class="info error" i18n="Unknown error on login@@login.unknownError">
    <p>Failed to authenticate: please check your credentials.</p>
  </div>
</form>
